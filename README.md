# 1.项目一 SM4算法的软件实现与优化
## 1.1 SM4算法的基本SIMD软件实现
对SM4的软件实现进行SIMD加速，使用AVX128指令集并行处理16个字节，4个密文块。
## 1.2 T-Table加速
在SIMD优化的基础上，使用T-Table方法，将S盒查找与L线性计算合并为一个预计算的T-table，从而通过避免线性L函数的计算，降低时钟周期。
## 1.3 GFNI指令集加速
使用查找表法具有诸多缺点，预计算表的使用增加了cache-attack侧信道攻击风险，同时较大的内存占用使得查表访问内存时出现cache-miss，大大增加时钟周期。通过使用GFNI指令集，实现在硬件层面加速。其具体原理为：通过同构映射，把SM4算法域中的元素映射到AES域中，而cpu提供对于AES域中快速硬件求逆指令，在AES中对元素求逆后，再将结果映射回SM4域。
# 项目二 图片水印的嵌入与提取
## 2.1 基于离散余弦变换的图片水印嵌入与提取原理
离散余弦变换可以将图像信号从空间域转换到频域，将图像能量集中在低频系数上。基于 DCT 的水印技术利用图像的中频系数嵌入水印信息，兼顾鲁棒性和视觉不可见性。细节上，将RGB图像转换为YCbCr格式，在Y通道上分为8*8小块并做离散余弦变换，选择中频系数嵌入水印，以达到视觉不可见性与鲁棒性的平衡。

嵌入算法细节：

### $D'_i = D_i + \alpha \cdot PN_i \cdot WM$

$D_i$:  DCT变换后的Y通道的中频系数  
$\alpha$:  嵌入强度系数，关系到水印与PN序列对中频系数的改变程度  
$PN_i$:  通过密钥生成的随机数序列，保障水印算法的安全性  
$WM$:  要嵌入的水印，若bit=0，取-1，否则取1  
  
## 2.2 鲁棒性测试结果
使用旋转，压缩，模糊，裁剪等方法对水印算法进行攻击，以测试水印算法的鲁棒性，使用10张图片进行初步的鲁棒性测试，测试结果如下
| 攻击类型 | 参数示例 | 平均准确率 |
|---|---|---:|
| 无攻击 | — | 99% |
| JPEG 压缩 | Q=50 | 82% |
| 高斯模糊 | 3×3 | 90% |
| 旋转 | 5°（无配准） | 62% |
| 中心裁剪 | 10% | 71% |


# 项目三 Google-Password-Checkup
## 协议实现原理

设 G 为一个阶为素数 q 的循环群，生成元为 g，在该群上 DDH（Decisional Diffie–Hellman）假设成立。  
设 H: U → G 为哈希函数，用于将元素映射到群元素。  
设 AEnc, ADec 为加法同态加密方案。

参与方：  
- P1 持有集合 V = { v1, v2, …, vm }  
- P2 持有集合 W = { (w1, t1), (w2, t2), …, (wn, tn) }，其中 t_j ∈ Z

目标：  
- 双方均得知交集基数 |V ∩ {w_j}|  
- 仅 P2 得到交集中所有 t_j 的和  
- 不泄露其他非交集元素的信息

### 协议步骤

1. **密钥生成**  
   - P1 选择 k1 ∈ Z_q^*  
   - P2 选择 k2 ∈ Z_q^*

2. **第一轮（P1 → P2）**  
   - P1 计算 Xi = H(v_i) ^ k1  
   - 随机打乱 {Xi} 并发送给 P2

3. **第二轮（P2 → P1）**  
   - 对收到的 Xi，计算 Zi = (Xi) ^ k2 = H(v_i) ^ (k1*k2)，打乱集合 Z 发送给 P1  
   - 对自身集合 W 计算：
       - Yj = H(w_j) ^ k2  
       - Cj = AEnc(t_j)  
     随机打乱 {(Yj, Cj)} 并发送给 P1

4. **第三轮（P1 → P2）**  
   - 对 (Yj, Cj) 计算 Yj' = (Yj) ^ k1 = H(w_j) ^ (k1*k2)  
   - 找出交集索引集 J = { j | Yj' 在 Z 中 }  
   - 在同态加密域中求和：  
       C_sum = 同态加法累加 Cj (j ∈ J)  
   - 对 C_sum 进行随机化，发送 (C_sum, |J|) 给 P2

5. **解密与输出**  
   - P2 解密得到 S = ADec(C_sum)  
   - 输出结果：
       - 双方：交集基数 |J|  
       - P2：交集求和结果 S

### 安全性
- 隐私性：基于 DDH 假设，非交集元素的标签 H(x)^(k1*k2) 接近随机，无法推导原值  
- 值安全性：同态加密保证 t_j 仅能由 P2 解密  
- 信息泄露：双方仅获知交集大小，P2 获得交集求和结果

